{"version":3,"sources":["../src/confirm.js"],"names":["define","$","ModalFactory","String","ModalEvents","trigger","create","type","types","SAVE_CANCEL","title","get_string","body","preShowCallback","triggerElement","modal","classString","classList","messageid","substr","lastIndexOf","params","setSaveButtonText","large","done","getRoot","save","e","preventDefault"],"mappings":"AAAAA,OAAM,yBAAC,CAAC,QAAD,CAAW,oBAAX,CAAiC,UAAjC,CAA4C,mBAA5C,CAAD,CAAmE,SAASC,CAAT,CAAYC,CAAZ,CAA0BC,CAA1B,CAAkCC,CAAlC,CAA8C,CACnH,GAAIC,CAAAA,CAAO,CAAGJ,CAAC,CAAC,8BAAD,CAAf,CACAC,CAAY,CAACI,MAAb,CAAoB,CAChBC,IAAI,CAAGL,CAAY,CAACM,KAAb,CAAmBC,WADV,CAEhBC,KAAK,CAAEP,CAAM,CAACQ,UAAP,CAAkB,SAAlB,CAA4B,eAA5B,CAFS,CAGhBC,IAAI,CAAET,CAAM,CAACQ,UAAP,CAAkB,iBAAlB,CAAoC,eAApC,CAHU,CAIhBE,eAAe,CAAE,yBAASC,CAAT,CAAyBC,CAAzB,CAA+B,CAC5CD,CAAc,CAAGb,CAAC,CAACa,CAAD,CAAlB,CAD4C,GAGxCE,CAAAA,CAAW,CAAGF,CAAc,CAAC,CAAD,CAAd,CAAkBG,SAAlB,CAA4B,CAA5B,CAH0B,CAIxCC,CAAS,CAAGF,CAAW,CAACG,MAAZ,CAAmBH,CAAW,CAACI,WAAZ,CAAwB,iBAAxB,IAAnB,CAJ4B,CAM5CL,CAAK,CAACM,MAAN,CAAe,CAAC,UAAYH,CAAb,CAAf,CACAH,CAAK,CAACO,iBAAN,CAAwBnB,CAAM,CAACQ,UAAP,CAAkB,SAAlB,CAA4B,eAA5B,CAAxB,CACH,CAZe,CAahBY,KAAK,GAbW,CAApB,CAcGlB,CAdH,EAeCmB,IAfD,CAeM,SAAST,CAAT,CAAe,CAEjBA,CAAK,CAACU,OAAN,GAAgBD,IAAhB,CAAqBpB,CAAW,CAACsB,IAAjC,CAAuC,SAASC,CAAT,CAAW,CAC9CA,CAAC,CAACC,cAAF,EACH,CAFD,CAGH,CApBD,CAqBH,CAvBK,CAAN","sourcesContent":["define(['jquery', 'core/modal_factory', 'core/str','core/modal_events'], function($, ModalFactory, String, ModalEvents){\r\n    var trigger = $('.local_message_delete_button');\r\n    ModalFactory.create({\r\n        type:  ModalFactory.types.SAVE_CANCEL,\r\n        title: String.get_string('deltmsg','local_message'),\r\n        body: String.get_string('deltmsg_confirm','local_message'),\r\n        preShowCallback: function(triggerElement, modal){\r\n            triggerElement = $(triggerElement);\r\n\r\n            let classString = triggerElement[0].classList[0];\r\n            let messageid = classString.substr(classString.lastIndexOf('local_messageid') + 'local_messageid'.length);\r\n\r\n            modal.params = {'messageid':messageid};\r\n            modal.setSaveButtonText(String.get_string('deltmsg','local_message'));\r\n        },\r\n        large:true,\r\n    }, trigger)\r\n    .done(function(modal){\r\n        // Do what you want with your new modal.\r\n        modal.getRoot().done(ModalEvents.save, function(e){\r\n            e.preventDefault();\r\n        });\r\n    });\r\n});"],"file":"confirm.min.js"}