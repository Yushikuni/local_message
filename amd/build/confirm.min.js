define ("local_message/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,f,g){var h=a(".local_message_delete_button");b.create({type:b.types.SAVE_CANCEL,title:c.get_string("deltmsg","local_message"),body:c.get_string("deltmsg_confirm","local_message"),preShowCallback:function preShowCallback(b,d){b=a(b);var e=b[0].classList[0],f=e.substr(e.lastIndexOf("local_messageid")+15);d.params={messageid:f};d.setSaveButtonText(c.get_string("deltmsg","local_message"))},large:!0},h).done(function(a){a.getRoot().done(d.save,function(b){b.preventDefault();var d=Y.one(".modal-footer");footer.setContent("Delete in process\u2026");var e=M.util.add_spinner(Y,footer);e.Show();Y.log(a.params);f.classList([d])[0].done(function(a){if(!0===a){window.location.reload();Y.log("massage was deleted...")}else{g.addNotification({message:c.get_string("dltmsg_fail","local_message"),type:"error"})}}).fail(g.exception)})})});
//# sourceMappingURL=confirm.min.js.map
